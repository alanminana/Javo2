@model Javo2.ViewModels.Configuracion.ConfiguracionIndexViewModel
@{
    ViewBag.Title = "Configuración del Sistema";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="container-fluid py-3">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h2 mb-0">@ViewBag.Title</h1>
    </div>

    <!-- Pestañas de Módulos -->
    @if (Model.Modulos != null && Model.Modulos.Any())
    {
        <ul class="nav nav-tabs mb-4">
            @foreach (var mod in Model.Modulos)
            {
                <li class="nav-item">
                    <a class="nav-link @(mod == Model.ModuloSeleccionado ? "active bg-primary text-white" : "text-light")"
                       href="@Url.Action("Index", new { modulo = mod })">
                        @mod
                    </a>
                </li>
            }
        </ul>
    }
    else
    {
        <div class="alert alert-warning mb-4">
            <i class="bi bi-exclamation-triangle me-2"></i>
            No hay módulos de configuración disponibles.
        </div>
    }

    <!-- Mensajes de éxito -->
    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <i class="bi bi-check-circle me-2"></i>@TempData["Success"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
        </div>
    }

    <!-- Tabla de Configuraciones -->
    <div class="card shadow-sm">
        <div class="card-body">
            @if (Model.Configuraciones != null && Model.Configuraciones.Any())
            {
                @await Html.PartialAsync("_ConfiguracionTable", Model.Configuraciones)
            }
            else
            {
                <div class="alert alert-info">
                    <i class="bi bi-info-circle me-2"></i>
                    No hay configuraciones disponibles para el módulo seleccionado.
                </div>
            }
        </div>
    </div>
</section>