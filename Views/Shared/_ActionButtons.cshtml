@model (int id, string controller, string action, string title, string icon)
@{
    var controllerLower = Model.controller.ToLower();
    bool canView = User.HasPermission($"{controllerLower}.ver");
    bool canEdit = User.HasPermission($"{controllerLower}.editar");
    bool canDelete = User.HasPermission($"{controllerLower}.eliminar");

    // Determina si se debe usar acción personalizada en lugar de las estándar
    string viewAction = string.IsNullOrEmpty(Model.action) ? "Details" : Model.action;
    string viewIcon = string.IsNullOrEmpty(Model.icon) ? "eye" : Model.icon;
    string viewTitle = string.IsNullOrEmpty(Model.title) ? "Ver detalles" : Model.title;
}

<div class="btn-group" role="group">
    @if (canEdit)
    {
        <a asp-controller="@Model.controller" asp-action="Edit" asp-route-id="@Model.id" class="btn btn-sm btn-outline-primary" title="Editar">
            <i class="bi bi-pencil-square"></i>
        </a>
    }

    @if (canView)
    {
        <a asp-controller="@Model.controller" asp-action="@viewAction" asp-route-id="@Model.id" class="btn btn-sm btn-outline-info" title="@viewTitle">
            <i class="bi bi-@viewIcon"></i>
        </a>
    }

    @if (canDelete)
    {
        <a asp-controller="@Model.controller" asp-action="Delete" asp-route-id="@Model.id" class="btn btn-sm btn-outline-danger" title="Eliminar">
            <i class="bi bi-trash"></i>
        </a>
    }
</div>