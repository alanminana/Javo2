@model IEnumerable<Javo2.ViewModels.Operaciones.Proveedores.ProveedoresViewModel>

@foreach (var proveedor in Model)
{
    <tr>
        <td>@proveedor.Nombre</td>
        <td>@proveedor.Telefono</td>
        <td>
            @if (proveedor.ProductosAsignadosNombres != null && proveedor.ProductosAsignadosNombres.Any())
            {
                <ul>
                    @for (int i = 0; i < proveedor.ProductosAsignadosNombres.Count; i++)
                    {
                        var productName = proveedor.ProductosAsignadosNombres[i];
                        var stock = proveedor.ProductosAsignadosStocks.Count > i ? proveedor.ProductosAsignadosStocks[i] : 0;

                        <li>@productName (Stock: @stock)</li>
                    }
                </ul>
            }
            else
            {
                <span>No hay productos asignados</span>
            }
        </td>
        <td>
            <a asp-action="Edit" asp-route-id="@proveedor.ProveedorID" class="btn btn-sm btn-primary me-1">
                <i class="bi bi-pencil-square"></i> Editar
            </a>
            <a asp-action="Details" asp-route-id="@proveedor.ProveedorID" class="btn btn-sm btn-info me-1">
                <i class="bi bi-eye"></i> Detalles
            </a>
            <a asp-action="Delete" asp-route-id="@proveedor.ProveedorID" class="btn btn-sm btn-danger" onclick="return confirm('¿Estás seguro de eliminar este proveedor?');">
                <i class="bi bi-trash"></i> Eliminar
            </a>
        </td>
    </tr>
}
