@{
    Layout = null;
    var permisos = ViewBag.UserPermissions ?? "[]";
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewBag.Title</title>
    <link rel="icon" href="/favicon.ico" />
    <!-- Los estilos se cargarán desde Vue -->
</head>
<body data-permissions='@permisos'>
    <!-- Token CSRF para peticiones AJAX -->
    @Html.AntiForgeryToken()

    <!-- Contenedor raíz para Vue -->
    <div id="app"></div>

    <!-- Scripts de Vue.js (serán reemplazados por los generados por Vite en producción) -->
    @if (Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT") == "Development")
    {
        <!-- El script no viene del bundle en desarrollo -->
        <script type="module" src="http://localhost:5173/main.js"></script>
    }
    else
    {
        <!-- Scripts compilados por Vite -->
        <script type="module" src="~/vue/dist/assets/index.js"></script>
    }
</body>
</html>